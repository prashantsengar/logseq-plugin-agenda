import{r as p,o,c as t,a as n,b as e,F as l,d as s,e as c}from"./app.2d01ef46.js";import{_ as u,a as r,b as i}from"./otherQuery3.ea72d12e.js";import{_ as k}from"./plugin-vue_export-helper.21dcd24c.js";const b={},m=n("h1",{id:"query-\u793A\u4F8B",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#query-\u793A\u4F8B","aria-hidden":"true"},"#"),s(" Query \u793A\u4F8B")],-1),d=n("h2",{id:"\u4F7F\u7528\u65E5\u671F\u66FF\u4EE3-scheduled",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u4F7F\u7528\u65E5\u671F\u66FF\u4EE3-scheduled","aria-hidden":"true"},"#"),s(" \u4F7F\u7528\u65E5\u671F\u66FF\u4EE3 scheduled")],-1),y={href:"https://github.com/haydenull/logseq-plugin-agenda/issues/19",target:"_blank",rel:"noopener noreferrer"},g=s("issue19"),h=c('<p>\u7B14\u8BB0\u5982\u4E0B:</p><p><img src="'+u+`" alt=""></p><p>\u914D\u7F6E\u5982\u4E0B:</p><p>Query Script:</p><div class="language-clojure ext-clojure line-numbers-mode"><pre class="language-clojure"><code><span class="token punctuation">[</span><span class="token symbol">:find</span> <span class="token punctuation">(</span><span class="token function">pull</span>
  ?block
  <span class="token punctuation">[</span><span class="token symbol">:block/uuid</span>
    <span class="token symbol">:block/parent</span>
    <span class="token symbol">:db/id</span>
    <span class="token symbol">:block/left</span>
    <span class="token symbol">:block/collapsed?</span>
    <span class="token symbol">:block/format</span>
    <span class="token symbol">:block/_refs</span>
    <span class="token symbol">:block/path-refs</span>
    <span class="token symbol">:block/tags</span>
    <span class="token symbol">:block/content</span>
    <span class="token symbol">:block/marker</span>
    <span class="token symbol">:block/priority</span>
    <span class="token symbol">:block/properties</span>
    <span class="token symbol">:block/pre-block?</span>
    <span class="token symbol">:block/scheduled</span>
    <span class="token symbol">:block/deadline</span>
    <span class="token symbol">:block/repeated?</span>
    <span class="token symbol">:block/created-at</span>
    <span class="token symbol">:block/updated-at</span>
    <span class="token symbol">:block/file</span>
    <span class="token symbol">:block/heading-level</span>
    <span class="token punctuation">{</span><span class="token symbol">:block/page</span>
      <span class="token punctuation">[</span><span class="token symbol">:db/id</span> <span class="token symbol">:block/name</span> <span class="token symbol">:block/original-name</span> <span class="token symbol">:block/journal-day</span> <span class="token symbol">:block/journal?</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
    <span class="token punctuation">{</span><span class="token symbol">:block/refs</span>
      <span class="token punctuation">[</span><span class="token symbol">:block/journal-day</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token symbol">:where</span>
  <span class="token punctuation">[</span>?block <span class="token symbol">:block/marker</span> ?marker<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>?rp <span class="token symbol">:block/journal?</span> <span class="token boolean">true</span><span class="token punctuation">]</span>
  <span class="token punctuation">[</span>?block <span class="token symbol">:block/refs</span> ?rp<span class="token punctuation">]</span>
  <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token keyword">contains?</span> <span class="token operator">#</span><span class="token punctuation">{</span><span class="token string">&quot;TODO&quot;</span> <span class="token string">&quot;DOING&quot;</span> <span class="token string">&quot;NOW&quot;</span> <span class="token string">&quot;LATER&quot;</span> <span class="token string">&quot;WAITING&quot;</span> <span class="token string">&quot;DONE&quot;</span><span class="token punctuation">}</span> ?marker<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>Schedule Start: <code>refs[0].journal-day</code></p><p>Date Formatter: <code>yyyyMMdd</code></p><p><img src="`+r+'" alt=""></p><p>\u65E5\u5386: <img src="'+i+`" alt=""></p><h2 id="\u4ECE\u9ED8\u8BA4-journal-\u65E5\u5386\u4E2D\u6392\u9664\u6307\u5B9A\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#\u4ECE\u9ED8\u8BA4-journal-\u65E5\u5386\u4E2D\u6392\u9664\u6307\u5B9A\u9875\u9762" aria-hidden="true">#</a> \u4ECE\u9ED8\u8BA4 journal \u65E5\u5386\u4E2D\u6392\u9664\u6307\u5B9A\u9875\u9762</h2><p>\u9ED8\u8BA4 journal \u65E5\u5386\u4F1A\u5728\u6240\u6709\u7B14\u8BB0\u4E2D\u67E5\u8BE2\u7B26\u5408\u6761\u4EF6\u7684\u4EFB\u52A1, \u4F46\u662F\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E query script \u6392\u9664\u6307\u5B9A\u9875\u9762.</p><p>\u5047\u5982\u6211\u4EEC\u5E0C\u671B journal \u65E5\u5386\u4E0D\u663E\u793A <code>your project</code> \u9875\u9762\u7684\u4EFB\u52A1.</p><p>\u53EA\u9700\u8981\u5C06\u4EE5\u4E0B\u4EE3\u7801\u6DFB\u52A0\u5230 query 1 2 4 \u7684 script \u4E2D\uFF1A</p><div class="language-clojure ext-clojure line-numbers-mode"><pre class="language-clojure"><code>  <span class="token punctuation">[</span>?page <span class="token symbol">:block/name</span> ?pname<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>?block <span class="token symbol">:block/page</span> ?page<span class="token punctuation">]</span>
  <span class="token punctuation">(</span><span class="token keyword">not</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token keyword">contains?</span> <span class="token operator">#</span><span class="token punctuation">{</span><span class="token string">&quot;your project&quot;</span><span class="token punctuation">}</span> ?pname<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u4F8B\u5982 query 1 \u539F\u672C\u7684 script \u4E3A\uFF1A</p><div class="language-clojure ext-clojure line-numbers-mode"><pre class="language-clojure"><code><span class="token punctuation">[</span><span class="token symbol">:find</span> <span class="token punctuation">(</span><span class="token function">pull</span> ?block <span class="token punctuation">[</span>*<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token symbol">:where</span>
  <span class="token punctuation">[</span>?block <span class="token symbol">:block/marker</span> ?marker<span class="token punctuation">]</span>
  <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token function">missing?</span> $ ?block <span class="token symbol">:block/deadline</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token punctuation">(</span><span class="token keyword">not</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token function">missing?</span> $ ?block <span class="token symbol">:block/scheduled</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token keyword">contains?</span> <span class="token operator">#</span><span class="token punctuation">{</span><span class="token string">&quot;TODO&quot;</span> <span class="token string">&quot;DOING&quot;</span> <span class="token string">&quot;NOW&quot;</span> <span class="token string">&quot;LATER&quot;</span> <span class="token string">&quot;WAITING&quot;</span> <span class="token string">&quot;DONE&quot;</span><span class="token punctuation">}</span> ?marker<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u4FEE\u6539\u540E\u7684 script \u4E3A\uFF1A</p><div class="language-clojure ext-clojure line-numbers-mode"><pre class="language-clojure"><code><span class="token punctuation">[</span><span class="token symbol">:find</span> <span class="token punctuation">(</span><span class="token function">pull</span> ?block <span class="token punctuation">[</span>*<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token symbol">:where</span>
  <span class="token punctuation">[</span>?block <span class="token symbol">:block/marker</span> ?marker<span class="token punctuation">]</span>
  <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token function">missing?</span> $ ?block <span class="token symbol">:block/deadline</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token punctuation">(</span><span class="token keyword">not</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token function">missing?</span> $ ?block <span class="token symbol">:block/scheduled</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">[</span>?page <span class="token symbol">:block/name</span> ?pname<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>?block <span class="token symbol">:block/page</span> ?page<span class="token punctuation">]</span>
  <span class="token punctuation">(</span><span class="token keyword">not</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token keyword">contains?</span> <span class="token operator">#</span><span class="token punctuation">{</span><span class="token string">&quot;your project&quot;</span><span class="token punctuation">}</span> ?pname<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token keyword">contains?</span> <span class="token operator">#</span><span class="token punctuation">{</span><span class="token string">&quot;TODO&quot;</span> <span class="token string">&quot;DOING&quot;</span> <span class="token string">&quot;NOW&quot;</span> <span class="token string">&quot;LATER&quot;</span> <span class="token string">&quot;WAITING&quot;</span> <span class="token string">&quot;DONE&quot;</span><span class="token punctuation">}</span> ?marker<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br></div><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div>`,18);function q(f,_){const a=p("ExternalLinkIcon");return o(),t(l,null,[m,d,n("p",null,[n("a",y,[g,e(a)])]),h],64)}var O=k(b,[["render",q]]);export{O as default};
